<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">3 posts tagged with &quot;open-source&quot; | Solide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.solide0x.tech/blog/tags/open-source"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="3 posts tagged with &quot;open-source&quot; | Solide"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://docs.solide0x.tech/blog/tags/open-source"><link data-rh="true" rel="alternate" href="http://docs.solide0x.tech/blog/tags/open-source" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.solide0x.tech/blog/tags/open-source" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Solide RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Solide Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e19c6a96.css">
<script src="/assets/js/runtime~main.2dfd7243.js" defer="defer"></script>
<script src="/assets/js/main.1c9cd05b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#7c3aed;color:#f4eefd" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like Solide, give it a <a target="_blank" rel="noopener noreferrer" href="https://github.com/solide-project">star on GitHub</a> and follow us on <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/SolideProject">X</a></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solide | Docs</b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/solide-project/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/solidity/create3">Exploring CREATE3 - Simplifying Smart Contract Deployment on Ethereum</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ethereum/erc4337/paymaster">ERC4337 - Paymaster</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ethereum/erc4337/entrypoint">ERC4337 - Decoding Ethereum&#x27;s EntryPoint</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>3 posts tagged with &quot;open-source&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="&lt;BlogCoverImage"><link itemprop="image" href="https://raw.githubusercontent.com/solide-project/docs/master/static/img/blog/solidity-create3.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/solidity/create3">Exploring CREATE3 - Simplifying Smart Contract Deployment on Ethereum</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-03T00:00:00.000Z" itemprop="datePublished">April 3, 2024</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/154510112?s=200&amp;v=4" alt="P" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">P</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer @ Solide</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img class="rounded-lg w-full" src="https://raw.githubusercontent.com/solide-project/docs/master/static/img/blog/solidity-create3.png" alt="cover">
<iframe src="https://solide0x.tech/?url=https://github.com/solide-project/solide-guides/blob/master/src/solide/Create/Deployer.sol" height="400" width="300" style="border-radius:8px;width:100%;overflow:hidden"></iframe>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-create3">What is Create3<a href="#what-is-create3" class="hash-link" aria-label="Direct link to What is Create3" title="Direct link to What is Create3">​</a></h2>
<p>With the advancement of multichain development, <strong>CREATE3</strong> emerges as a transformative and cheap alternative to the deployment of smart contracts. With the existing Solidity opcodes such as <code>create</code> and <code>create2</code>, the Create3 is built upon the solidity of <code>create2</code> to grant developers control over contract deployment. By enabling developers to predetermine contract addresses before deployment, CREATE3 imbues them with a newfound sense of agency. This new approach not only enhances control but also fosters consistency and uniformity across Ethereum Virtual Machine (EVM) blockchains, allowing for the synchronization of smart contract ecosystems. Whether navigating the Ethereum mainnet, testnets, or private networks, CREATE3 facilitates the harmonious deployment of contracts with identical addresses, thereby heralding a new era of streamlined blockchain development.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="solmate-create3">Solmate CREATE3<a href="#solmate-create3" class="hash-link" aria-label="Direct link to Solmate CREATE3" title="Direct link to Solmate CREATE3">​</a></h2>
<p>For a more technical perspective, let&#x27;s dive into Solmate&#x27;s CREATE3 library, which is designed for deploying smart contracts to deterministic addresses without necessitating an initcode factor. The CREATE3 <code>deploy</code> method operates by leveraging <code>create2</code> initially to deploy a CREATE factory, with its nonce set to 1 which then is used to deploy the desired derived contract.</p>
<p>Another important part is the Proxy Bytecode.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token builtin">bytes</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">internal</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">constant</span><span class="token plain"> PROXY_BYTECODE </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> hex</span><span class="token string" style="color:#728fcb">&quot;67_36_3d_3d_37_36_3d_34_f0_3d_52_60_08_60_18_f3&quot;</span><span class="token punctuation" style="color:#b6ad9a">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The proxy bytecode essentially acts as an intermediary contract that executes the <code>create</code> opcode within its context. By deploying this proxy contract with a unique salt value and having it call &quot;create&quot; with its current nonce (starting at 1 upon first use), the contract bytecode itself becomes independent of the address derivation process. This means that the address of the deployed contract is determined solely by the creator&#x27;s address, the salt value, and the hash of the proxy bytecode, without being influenced by the specific bytecode of the contract being deployed. This is what makes the contracts deterministic and predictable in their deployments, and how developers can ensure resulting contract addresses deployed on other networks are consistent.</p>
<p>Then we deploy this proxy contract as a new contract using the <code>create2</code> opcode. The create2 opcode will take in the <em>ether value</em> which is defined as <code>0</code>, the <em>bytecode of the proxy contract</em> and offset by 32 bytes to skip the first 32 bytes which represent the length of the bytecode, then the <em>bytecode loaded from memory</em> and the <em>salt</em> used for deterministic address derivation.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">deployed </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token function" style="color:#b29762">getDeployed</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">salt</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token builtin">bool</span><span class="token plain"> success</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> proxy</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">call</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain">value</span><span class="token punctuation" style="color:#b6ad9a">:</span><span class="token plain"> value</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">creationCode</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Following that the <code>getDeployed</code> function is called to retrieve the address of the deployed contract based on the provided salt value. Subsequently, the proxy contract is invoked with the <code>creationCode</code> to initialize the deployed contract.</p>
<p>There are also two required checks,</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">require</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">proxy </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> </span><span class="token builtin">address</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;DEPLOYMENT_FAILED&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">require</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">success </span><span class="token operator" style="color:#063289">&amp;&amp;</span><span class="token plain"> deployed</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">code</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">length </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;INITIALIZATION_FAILED&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The first statement ensures that the deployment was successful by checking that the proxy address is not zero.</li>
<li>the second statement verifies that the initialization was successful and that the deployed contract&#x27;s bytecode is not empty.</li>
</ul>
<p>So in general the steps to deploying a smart contract using create3 is,</p>
<ul>
<li>creating a Factory contract (<code>Deployer.sol</code>)</li>
<li>calls <code>create3.deploy</code>
<ul>
<li>calls <code>create2</code> to create a proxy contract</li>
<li>the proxy contract will be called</li>
<li><code>create</code> from the proxy contract to create the <strong>contract</strong></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="looking-at-the-deployer-example-contract">Looking at the Deployer Example contract<a href="#looking-at-the-deployer-example-contract" class="hash-link" aria-label="Direct link to Looking at the Deployer Example contract" title="Direct link to Looking at the Deployer Example contract">​</a></h2>
<p>The <code>Deployer.sol</code> contract is essentially a <strong>factory contract</strong> that deploys the contract bytecode to a deterministic address. The contract has a <code>deploy</code> method that takes in the salt value and can take the bytecode of the contract to be deployed. In a more generic sense, you can pass any bytecode in so the <code>deployer()</code> method can be,</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">deploy</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token builtin">bytes</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">memory</span><span class="token plain"> _salt</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token builtin">bytes</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">memory</span><span class="token plain"> _bytecode</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">/* more args for constructor */</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">external</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token builtin">bytes</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">memory</span><span class="token plain"> bc </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> abi</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">encodePacked</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        _bytecode</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        abi</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">encode</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">sender</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// args, </span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    CREATE3</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">deploy</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token function" style="color:#b29762">keccak256</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">_salt</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> bc</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> _value</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For this contract, we&#x27;ve encapsulated the deployment of a contract identified as <code>Ownerable.sol</code>. Utilizing the built-in methods, we extract the bytecode of <code>Ownerable</code> and subsequently invoke the <code>create3.deploy</code> function from the Solmate library. This invocation passes along the salt, the extracted bytecode, and any specified ether value as parameters. The <code>create3.deploy</code> function is then responsible for deploying the contract using the provided bytecode.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-using-create3">Deploy using CREATE3<a href="#deploy-using-create3" class="hash-link" aria-label="Direct link to Deploy using CREATE3" title="Direct link to Deploy using CREATE3">​</a></h2>
<p><em>It is important to note the given example using CREATE3 on multichain with the same address, you <strong>MUST</strong> use a wallet with the same nonce on each network. The best solution is to create an entirely new wallet and send some funds on each chain.</em></p>
<p>For our demonstration, we&#x27;ll deploy contracts on the <em>BASE Sepolia</em> and <em>Polygon Mumbai</em> testnet. Begin by compiling and deploying <code>Deployer.sol</code>. This action will advance the nonce of your wallet by one once the transaction is completed. Following this, switch your Metamask to the Mumbai testnet and deploy using the same newly created wallet. The outcome should be consistent across both networks. It&#x27;s important to note that the <code>Deployer.sol</code> used in both instances is identical, ensuring uniformity in the deployment process.</p>
<p>The examples of deployers on both networks are as follows,</p>
<ul>
<li><a href="https://sepolia.basescan.org/address/0xfeB362F2148F1303ea6Bf026d32071EA295e25ac" target="_blank" rel="noopener noreferrer">Base: 0xfeB362F2148F1303ea6Bf026d32071EA295e25ac</a></li>
<li><a href="https://mumbai.polygonscan.com/address/0xfeB362F2148F1303ea6Bf026d32071EA295e25ac" target="_blank" rel="noopener noreferrer">Mumbai: 0xfeB362F2148F1303ea6Bf026d32071EA295e25ac</a></li>
</ul>
<p>With CREATE3, we gain the flexibility to selectively target a specific address for contract deployment by using <em>a salt</em>. For simplicity, let&#x27;s use the address <code>0xfeB362F2148F1303ea6Bf026d32071EA295e25ac</code> as the salt. The Deployer contract includes a function named <code>getDeployer</code>, which, as mentioned, calculates the contract address using the provided salt. Although initially, no contract is deployed at this address, the <code>getDeployer</code> can compute the output <code>Ownerable</code> address for the contract wallet specified with a salt. This approach ensures that the derived address serves as the deployment target for the contract&#x27;s implementation in bytecode. Importantly, this guarantees that the address will be consistent across different chains, assuming the deploying wallet&#x27;s nonce remains the same. We should keep the output address in mind, as it&#x27;ll be the one we can compare across when using <code>deploy</code>.</p>
<p>To deploy with the CREATE3, the Deployer wrapped the <code>deploy</code> from create3 and hence we can pass the the <code>_salt</code> as whatever byte we want say, <code>0xfeB362F2148F1303ea6Bf026d32071EA295e25ac</code>. After a successful deployment, you can verify the contract on a block explorer by checking out the transaction.</p>
<iframe src="https://solide0x.tech/?url=https://github.com/solide-project/solide-guides/blob/master/src/solide/Create/Ownerable.sol" height="400" width="300" style="border-radius:8px;width:100%;overflow:hidden"></iframe>
<p>After deploying, we can access the <code>Ownerable.sol</code> (with <a href="https://solide0x.tech/?url=https://github.com/solide-project/solide-guides/blob/master/src/solide/Create/Ownerable.sol" target="_blank" rel="noopener noreferrer">Solide IDE</a>) contract through the provided URL to interact with its features, such as the <code>getOwner</code> function, which should identify the deploying wallet as the owner. To achieve consistent contract addresses across different chains, repeat this deployment process on an alternative blockchain, such as the Mumbai testnet, employing the identical salt. This method showcases CREATE3&#x27;s ability to facilitate uniform contract addresses across various chains, underscoring its utility for cross-chain contract deployment. Should there be a need to modify the contract address, altering the salt value or ensuring the nonce differs across networks can accomplish this. Furthermore, if deploying a distinct contract while desiring the same address, leveraging the <code>deploy()</code> function with the original salt allows for this flexibility.</p>
<p>In essence, CREATE3 empowers developers with enhanced control over the generation of smart contract addresses on Ethereum, presenting new opportunities for the development of decentralized applications with increased flexibility and uniformity across diverse networks. However, it&#x27;s important to acknowledge that deploying contracts via CREATE3 may incur higher costs compared to the <code>create</code> and <code>create2</code> methods.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/open-source">open-source</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/smart-contract">smart-contract</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development-tool">development-tool</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><link itemprop="image" href="https://raw.githubusercontent.com/solide-project/docs/master/static/img/blog/ethereum-entry-point.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/ethereum/erc4337/paymaster">ERC4337 - Paymaster</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-03-02T08:47:20.000Z" itemprop="datePublished">March 2, 2024</time> · <!-- -->0 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/154510112?s=200&amp;v=4" alt="P" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">P</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer @ Solide</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/open-source">open-source</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/smart-contract">smart-contract</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development-tool">development-tool</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Welcome to Solide"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/welcome">Welcome</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-02-21T00:00:00.000Z" itemprop="datePublished">February 21, 2024</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/154510112?s=200&amp;v=4" alt="A" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">A</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer @ Solide</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/154510112?s=200&amp;v=4" alt="P" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/solide-project" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">P</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer @ Solide</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to Solide</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/open-source">open-source</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/smart-contract">smart-contract</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development-tool">development-tool</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><div class="grid grid-cols-12 py-8 gap-4 border-t"><div class="col-span-12 lg:col-span-4 flex items-center justify-center"><span></span><span class="text-2xl font-semibold tracking-tight">Solide</span></div><div class="col-span-12 lg:col-span-4 flex items-center justify-center"><span>Made with ❤️ by Solide Project</span></div><div class="col-span-12 lg:col-span-4 flex items-center justify-center"><div class="flex gap-2"><a href="https://solide-dapp.vercel.app/" target="_blank" rel="noopener noreferrer"><span></span></a><a href="/docs/intro"><span></span></a><a href="https://twitter.com/SolideProject" target="_blank" rel="noopener noreferrer"><span></span></a></div></div></div></div>
</body>
</html>